<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mapping | MSRebirth</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" type="image/png" href="/icon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/icon-32x32.png" sizes="32x32">
    <link rel="shortcut icon" href="/icon.ico">
    <meta name="description" content="The rebirth of the Half-Life mod Master Sword Continued.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.769ba8bf.css" as="style"><link rel="preload" href="/assets/js/app.9096e7fd.js" as="script"><link rel="preload" href="/assets/js/2.08c139a3.js" as="script"><link rel="preload" href="/assets/js/10.c72c475d.js" as="script"><link rel="prefetch" href="/assets/js/11.81a5346c.js"><link rel="prefetch" href="/assets/js/12.9631ea55.js"><link rel="prefetch" href="/assets/js/13.a9f42448.js"><link rel="prefetch" href="/assets/js/14.a1ddd5a1.js"><link rel="prefetch" href="/assets/js/15.0e036c88.js"><link rel="prefetch" href="/assets/js/16.5b82d08e.js"><link rel="prefetch" href="/assets/js/17.fccba11d.js"><link rel="prefetch" href="/assets/js/18.37b5f2c8.js"><link rel="prefetch" href="/assets/js/3.180c96a8.js"><link rel="prefetch" href="/assets/js/4.49141fc0.js"><link rel="prefetch" href="/assets/js/5.2759453d.js"><link rel="prefetch" href="/assets/js/6.0b76e480.js"><link rel="prefetch" href="/assets/js/7.a8e573c5.js"><link rel="prefetch" href="/assets/js/8.c6f5069e.js"><link rel="prefetch" href="/assets/js/9.aab4f222.js">
    <link rel="stylesheet" href="/assets/css/0.styles.769ba8bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/icon.png" alt="MSRebirth" class="logo"> <span class="site-name can-hide">MSRebirth</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/project/intro.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://discord.gg/nwJB9EhAN6" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/dev/game/intro.html" class="nav-link">
  Dev
</a></div> <a href="https://github.com/MSRevive" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/project/intro.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://discord.gg/nwJB9EhAN6" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/dev/game/intro.html" class="nav-link">
  Dev
</a></div> <a href="https://github.com/MSRevive" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Contributing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/game/intro.html" class="sidebar-link">Intro to Contributing</a></li><li><a href="/dev/game/game_code.html" class="sidebar-link">Game Code</a></li><li><a href="/dev/game/mapping.html" aria-current="page" class="active sidebar-link">Mapping</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/game/mapping.html#parameters" class="sidebar-link">Parameters</a></li><li class="sidebar-sub-header"><a href="/dev/game/mapping.html#universal-eventnames" class="sidebar-link">Universal Eventnames</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mapping"><a href="#mapping" class="header-anchor">#</a> Mapping</h1> <p>Some random mapping related stuffs.</p> <h2 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h2> <p>Multiple addparams and their parameters are separated by semi-colons.</p> <p>Beware, due to Hammer limitations, your total addparam string's length will need to be less than 100 characters. You can, however, split addparams with the ms_monsterspawns pass parameters property*, or the map's global addparams property.</p> <p>These can also be applied, individually, to a monster when crossing a certain point in the map, by using the Scriptevent property on a trigger_once or trigger_multiple flagged triggerable by monsters, or with the msnpc_script entity.</p> <p>They can also be added, globally, to all monsters, via Map Properties-&gt;Global Addparams(map_addparams), or to a specific set of monsters, via the ms_monsterspawn/msarea_monsterspawn's Pass AddParams(params)* property.</p> <h3 id="behavior"><a href="#behavior" class="header-anchor">#</a> Behavior</h3> <p>set_race;&lt;faction_name&gt;</p> <ul><li>Change monster's race for interaction with other mobs.</li> <li>For a complete list of faction interaction see: msc/test_scripts/reference_scripts/races.script</li></ul> <p>set_no_roam</p> <ul><li>Removes monster wander function.</li></ul> <p>ext_invalidate</p> <ul><li>Flags the mob as an invalid target to other NPCs (so it won't be attacked).</li> <li>If the NPC is friendly, set_race;beloved is preferable to this, as invalidated NPC's can still be damaged by AOE attacks.</li></ul> <p>critical_npc</p> <ul><li>Designates this NPC as critical and initiates &quot;siege map&quot; mode.</li> <li>1/3 of every monster spawned hereafter will attempt to hunt any NPC with this tag.</li></ul> <p>ignore_critical_npc</p> <ul><li>Ignores critical NPCs on siege maps.</li></ul> <p>set_attack_until_spotted</p> <ul><li>Simulates attacking an object until damaged or spots an enemy.</li></ul> <p>set_no_step_adj</p> <ul><li>Removes step-adjustment procedure (step size will be 16 units, regardless of mob height).</li></ul> <p>set_blind_attack</p> <ul><li>Removes the requisite that the mob must see a target to attack it.</li> <li>Particularly useful with overscaled monsters that need to be able to attack through their minions.</li></ul> <p>set_npc_turret</p> <ul><li>Causes monster to stay in place and act as a turret.</li></ul> <p>set_dosr</p> <ul><li>Monster removes when related ms_monsterspawn is removed via killtarget</li></ul> <p>set_no_auto_activate</p> <ul><li>Normally, mobs immediately cycle up if they spawn near a player, this prevents that behavior.</li></ul> <p>set_non_agro</p> <ul><li>Monster will not target players until attacked.</li></ul> <p>set_mclip;&lt;0|1&gt;</p> <ul><li>Setting this to 0 causes mob to ignore func_monsterclips.</li></ul> <p>set_die_nt;<seconds></seconds></p> <ul><li>Monster will removes if it doesn't find a valid target within &lt;secondsafter spawning.</li> <li>Similarly, monster will remove if it doesn't find a target &lt;secondsafter cooling down.</li></ul> <h3 id="visual-effects"><a href="#visual-effects" class="header-anchor">#</a> Visual Effects</h3> <p>set_scale;<ratio></ratio></p> <ul><li>Increase/decrease monster size, attempts to alter collision box and reach to match.
set_scale_nr;<ratio></ratio></li> <li>As above, but with no reach adjustment.
set_scale_nb;<ratio></ratio></li> <li>As above, but with no bounding box adjustment (best when size ratio is between 0.75-1.25)
set_scale_nbr;<ratio></ratio></li> <li>As above, but with neither reach nor bounding box adjustment.</li></ul> <p>set_model;&lt;model_path&gt;</p> <ul><li>Changes the default monster model.</li> <li>&lt;model_pathshould exclude the <code>models/</code> prefix, and must end in &quot;.mdl&quot;</li> <li>Model must be precached or will crash.</li></ul> <p>set_submodel;<a href="part:submodel*">part:submodel*</a></p> <ul><li>Changes the submodel indexing on the monster's model.</li> <li>Part and submodel index must be separated by a colon &quot;:&quot;.</li> <li>Keep in mind that the HLMV indexes from 1, while the game indexes from 0.</li></ul> <p>set_skin</p> <ul><li>Changes the model skin.</li> <li>Keep in mind that the HLMV indexes from 1, while the game indexes from 0.</li></ul> <p>glow_red
glow_green
glow_blue
glow_yellow
glow_purple
glow_custom;&lt;(RRR,GGG,BBB)&gt;</p> <ul><li>Adds a glow-shell of the indicated color to the monster</li></ul> <p>make_ghost</p> <ul><li>Gives mob a additive/holographic render.</li> <li>(can be removed with remove_ghost)</li></ul> <p>set_fade_in</p> <ul><li>Causes monster to 'fade in' on spawn.</li></ul> <p>set_summon_circle</p> <ul><li>Causes monster to appear from a summoning circle with sound.</li></ul> <p>setfx_tele_in</p> <ul><li>Causes monster to spawn with a teleport effect and sound.</li></ul> <p>setfx_sprite_in</p> <ul><li>Causes monster to spawn in with a sprite effect and sound.</li></ul> <p>setfx_sprite_inx</p> <ul><li>As setfx_sprite_in, but uses a different sprite.</li></ul> <p>setfx_beam_in</p> <ul><li>Causes monster to spawn in with a lightning bolt effect.</li></ul> <p>setfx_spawn_sound</p> <ul><li>Triggers a magic sound on spawning. (set_summon_circle/sprite_in already do this.)</li></ul> <p>set_cbm;<mp3></mp3></p> <ul><li>Sets combat music when encountering this monster.</li> <li>Overrides any existing combat music setting.</li></ul> <p>set_cbml;<a href="mins:secs">mins:secs</a></p> <ul><li>Optional - determines the length of the combat music for a cleaner loop.</li></ul> <p>set_not_musical</p> <ul><li>Tells the combat music system to ignore requests to start combat music from this monster.</li> <li>Useful if the monster cannot be slain and will be targeting perpetually - such as the killer whales in Shendar_East's nightmare sequence.</li></ul> <h3 id="resistances"><a href="#resistances" class="header-anchor">#</a> Resistances</h3> <p>ext_no_player_damage</p> <ul><li>Take no damage from players.</li></ul> <p>make_invulnerable</p> <ul><li>Creates a white glow shell and makes NPC invulnerable.</li> <li>This can be removed via msnpc_script or when crossing a monster-triggerable brush with the scriptevent: make_vulnerable.</li></ul> <p>lightning_immune
fire_immune
poison_immune
cold_immune</p> <ul><li>Grants immunity to related damage type.</li></ul> <p>set_stun_prot;&lt;percent%&gt;</p> <ul><li>Sets monster's stun resistance, 0-100%.</li></ul> <p>set_takedmg;<a href="type:ratio">type:ratio</a></p> <ul><li>Changes monster's vulnerability to specific element.</li> <li>Element type and ratio must be separated by a colon.</li></ul> <h3 id="enhancements"><a href="#enhancements" class="header-anchor">#</a> Enhancements</h3> <p>speed_x2
speed_x2_5
speed_x3
speed_x4</p> <ul><li>Increases monster's frame rate, causing it to both move and attack more quickly.</li> <li>(Adjusts XP)</li></ul> <p>set_mspeed;<ratio></ratio></p> <ul><li>Adjusts movement speed without adjusting attack speed.</li> <li>Do not use to create turrets (see set_npc_turret).</li> <li>Adjusts XP.</li></ul> <p>demon_blood;[multiplier]</p> <ul><li>Adds demon blood to monster.</li> <li>Default multiplier is x5 damage.</li> <li>Adjusts XP.</li></ul> <p>make_boss</p> <ul><li>Flags NPC as boss (adds regeneration, resistance to previously slain players, and increases XP.)</li></ul> <p>ext_set_parry</p> <ul><li>Lets you add a parry skill to the mob (should be &gt;100 to have effect)</li></ul> <p>add_dot_poison;[ratio]
add_dot_cold;[ratio]
add_dot_fire;[ratio]
add_dot_lightning;[ratio]</p> <ul><li>Grants DOT of type to the monster, coupled with a glow shell related to the element.</li> <li>[ratio] increases or reduces the DPS.</li> <li>Adjusts XP.</li></ul> <p>set_tele_hunter;[frequency]</p> <ul><li>Causes monster to teleport to current target every [frequency] seconds (default 20).</li> <li>Adjusts XP.</li></ul> <p>set_tele_hunter_random;[frequency]</p> <ul><li>As above, but monster will select targets randomly, rather than continuously teleporting to the same target.</li></ul> <p>set_lshield *</p> <ul><li>Grants the monster a lightning field, similar to The Hollow One</li> <li>Adjusts XP</li></ul> <h3 id="other"><a href="#other" class="header-anchor">#</a> Other</h3> <p>ext_no_drops</p> <ul><li>Strips gold and drops from a monster. (Usually)</li></ul> <p>ext_reduct_xp;<ratio></ratio></p> <ul><li>Reduces XP.</li></ul> <p>set_self_adj;[adjust_max#]</p> <ul><li>Causes the monster to self adjust based on the total hp of active players.</li> <li>adjust_max can be set from 1-5, indicating the maximum level of adjustment levels the mob can use (this helps prevent overpowered monsters, and is highly recommended with any monster with a base HP of higher than 5,000.)</li></ul> <p>set_no_avg</p> <ul><li>On self adjusting maps, cause the monster not to be counted when determining the average tier.</li> <li>This is useful for monsters towards the beginning of the map that may be slain before all players have connected.</li></ul> <p>set_xp_tr;<minutes to="" max="" XP=""></minutes></p> <ul><li>Monster is worth less than maximum XP until the map has been running this many minutes, ramping from 0 to full XP during this time.</li> <li>Useful for high level bosses with easy access.</li></ul> <p>set_range;<units></units></p> <ul><li>Changes the mob's attack range.</li> <li>Does not work for all monsters, or on monsters with multiple attacks of differing ranges.</li></ul> <p>set_say_spawn;'text'</p> <ul><li>Causes mob to say something on spawn.</li> <li>Beware there is no sanity check, and using double quotes or odd characters may crash your compile.</li> <li>'text' should be in single quotes if any spaces are used.</li></ul> <p>set_say_spot;'text'</p> <ul><li>As above, but text is said when first spotting an enemy.</li></ul> <p>set_say_die;'text'</p> <ul><li>As above, but text is said when mob dies.</li></ul> <p>set_solid;&lt;none|box|slidebox|trigger&gt;</p> <ul><li>Changes the monsters bounding box type (none will cause it to be noclip to players)</li></ul> <p>set_dyn_spawn *</p> <ul><li>Causes the mob to teleport off-map on spawn, then try to find a spot where no player is looking within its msarea_monsterspawn before teleporting back in.</li></ul> <p>set_world_spawn;[distance] *</p> <ul><li>As set_dyn_spawn, except the monster will attempt to teleport to a random player within the world, favoring clustered players.</li> <li>[distance] defaults to 512 if omitted, and represents the maximum distance the monster will attempt to spawn from the player.</li></ul> <h2 id="universal-eventnames"><a href="#universal-eventnames" class="header-anchor">#</a> Universal Eventnames</h2> <p>for use with ms_npcscript, these work with most NPCs, including monsters/lure:
XXXX_race - where XXXX is, replace with desired race. This is buggy, and may cause issues (including crash). Common uses include: orc_race, hated_race, beloved_race, human_race. Full faction list and relations can be found here.
ELEMENT_immune: Where ELEMENT is, replace with desired element. Valid elements currently include: lightning, fire, poison, and cold. Using normal_immune sets all immunities to normal (including any immunities the creature might normally have).
fifty_armor - sets 50% damage absorption.
eighty_armor - sets 80% damage absorption.
make_invulnerable - makes monster invulnerable (godmode)
make_vulnerable - makes monster vulnerable
add_XXX_health - where XXX is use 10, 100, 500, or 1000 (untested)
double_health - Doubles creature's health based on current. Prefixes name with &quot;Strong &quot;, can be used repeatedly (but name effect stacks)
quad_health - Quadruplescreature's health based on current. Prefixes name with &quot;Very Strong &quot;, can be used repeatedly (but name effect stacks)</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/MSRevive/website/edit/master/dev/game/mapping.md" target="_blank" rel="noopener noreferrer">Help us improve this page.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/28/2023, 10:48:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dev/game/game_code.html" class="prev">
        Game Code
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9096e7fd.js" defer></script><script src="/assets/js/2.08c139a3.js" defer></script><script src="/assets/js/10.c72c475d.js" defer></script>
  </body>
</html>
